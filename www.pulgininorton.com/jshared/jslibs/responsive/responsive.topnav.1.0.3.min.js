/*!
 * ResponsiveTopnav 1.0.3
 * Justia - Mayra Valdes @mayrop
 * July 2013
 */
(function(k){Object.keys=Object.keys||function(k){var c=[],d;for(d in k)k.hasOwnProperty(d)&&c.push(d);return c};var y=function(){var v,c,d,b,p=[],u=[],f,r,e=0,n=0,m=0,w,s,t,q,g;getwrapper=function(a){v||(v=!0,d=a.id,q="temporary_hidden",g="gameover",c=k("#"+d),b=c.children(":first"),b.append(getbtn(b)),f=c.find(".morebtn",0),s=!1,t=300,r=parseInt(b.css("padding-left"),0)+parseInt(b.css("padding-right"),0),k(window).on("resize",function(){w=new Date;b.addClass(q);triggerResize();!1===s&&(s=!0,setTimeout(resizeend,
t))}))};resizeend=function(){new Date-w<t?setTimeout(resizeend,t):(s=!1,b.removeClass(q))};triggerResize=function(){var a=!1;3>=n?(b.addClass("mobile-menu"),b.find(".contactus > a").text("Contact"),a=!0):(b.removeClass("mobile-menu"),b.find(".contactus > a").text("Contact Us"));hasOverflow()?a||showbtn():showNavItems()};getbtn=function(a){var x=document.createDocumentFragment(),b=document.createElement("li");b.className="morebtn "+g;b.innerHTML='<a href="#">More</a><ul>'+initwrapper(a)+"</ul>";x.appendChild(b);
return x};showbtn=function(){f.hasClass(g)&&(f.removeClass(g),n++,e+=f.width());hideNavItems()};hideNavItems=function(){var a=u[m];c.find("li."+a.itemClass,0).addClass(g);c.find("li ."+a.itemClass,0).removeClass(g);e-=a.width;n--;m++;b.removeClass(q);triggerResize()};showNavItems=function(){if(0!=m){var a=u[m-1],b=e+a.width;wrapperWidth=c.width();if(1==m&&b+r-f.width()<wrapperWidth)return e=b-f.width(),f.addClass(g),n--,triggerShow(a);if(b+r<wrapperWidth)return e=b,triggerShow(a)}};triggerShow=function(a){c.find("li."+
a.itemClass,0).removeClass(g);c.find("li ."+a.itemClass,0).addClass(g);m--;n++;b.removeClass(q);triggerResize()};getPriority=function(a){var b=100;if(a=a.attr("class")){a=a.split(" ");var c=/^priority_(\d+)$/gi,e;for(e in a)if(a[e]){var g=c.exec(a[e]);g&&(b=g[1])}}return Number(b)};initwrapper=function(a){var b="",c=0,f=[];a.find("> li").each(function(a){var h=k(this),d=h.width(),l;n++;h.addClass("tnel_"+a);h.attr("data-width",d);e+=d;l=getPriority(h);p[l]||(p[l]=[],f[c]=l,c++);p[l][a]={item:h,width:d,
itemClass:"tnel_"+a,priority:l};a=h.attr("class");h=h.find("a",0);d="";l='href="'+h.attr("href")+'" ';h.attr("target")&&(d='target="'+h.attr("target")+'"');b+='<li class="'+g+" "+a+'"><a '+l+d+">"+h.html()+"</a></li>"});f.sort(function(a,b){return b-a});c=0;Object.keys(f);for(var d in f)for(pk in key=f[d],a=Object.keys(p[key]),a.sort(function(a,b){return b-a}),a)u[c]=p[key][a[pk]],c++;m=0;return b};hasOverflow=function(){var a=c.width();return e+r>a?!0:!1};return{init:function(a){return getwrapper(a)}}}();
k(document).ready(function(){y.init({id:"topnav"});k(window).trigger("resize")})})(jQuery);